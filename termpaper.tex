% Term paper proposal template - Ilona Sparks
% CSC 300: Professional Responsibilities
% Dr. Clark Turner

% One Column Format
\documentclass[11pt]{article}

\usepackage{multicol}
\usepackage{setspace}
\usepackage{url}

%%% PAGE DIMENSIONS
\usepackage{geometry} % to change the page dimensions
\geometry{letterpaper}


\begin{document}

\title{\vfill Coffee in Iceland: The Ethics of Java on Android} %\vfill gives us the black space at the top of the page
\author{
By Ross Light \vspace{10pt} \\
CSC 300: Professional Responsibilities  \vspace{10pt} \\
Dr. Clark Turner \vspace{10pt} \\
}
\date{\today} %Or use \Today for today's Date

\maketitle

\vfill  %in combination with \newpage this forces the abstract to the bottom of the page
\begin{abstract} % {{{1

Google released Android on November 5, 2007 \cite{open-handset-alliance-ann} as
a platform for mobile phones. Programmers can write applications for Android in
Java.  These programs are run with Dalvik --- a virtual machine that Google
created.  In 2010, Oracle~America~Inc.\ filed a lawsuit against Google
\cite{oracle-lawsuit}, claiming that Dalvik infringed on Oracle's intellectual
property.  This raises the question, is Google's use of the Dalvik virtual
machine in Android ethical?  Creating Dalvik was the only way to ethically meet
performance, memory, and licensing requirements, which aligns with the spirit of
the ACM Software Engineering Code of Ethics and Professional Practice
\cite{secode}.

(It should be noted that the author of this paper is employed by Google at time
of writing.)

\end{abstract} % }}}1

\thispagestyle{empty} %remove page number from title page, but still keep it as pg #1
\newpage

%Create a table of contents with all headings of level 3 and above.
\thispagestyle{empty}  %Remove page number from TOC
\tableofcontents

\newpage

%start 2 column format
\begin{multicols}{2}
%Start numbering first page of content as page 1
\setcounter{page}{1}

\section{Facts} % {{{1
\label{sec:facts}

In late 2007, Google (along with a handful of other companies) announced the
Open Handset Alliance \cite{open-handset-alliance-ann} along with the operating
system they wished to promote: Android.  The Android operating system is built
entirely from open source projects.  Most of the projects Android uses are
released under the Apache License 2.0, with the exception of the Linux kernel
(which is released under the GNU GPL).  Google provides a software development
kit (SDK) that allows developers to write applications for Android in the Java
programming language.

Java is a programming language created by James Gosling that was originally
maintained by Sun Microsystems.  In 2006, Sun announced Java's release under the
open source GNU GPL license. \cite{sun-open-sources-java} On August 20, 2009,
the U.S.~Justice Department approved Oracle's deal to acquire Sun Microsystems
and its intellectual property, including Java. \cite{oracle-buys-sun}

Many programming languages are converted from text directly into instructions
that the CPU understands.  Java does not get converted directly to CPU
instructions --- in order to run Java code, one must use a virtual machine.  A
virtual machine guarantees that the same program will run on any CPU without
modification.  Once a virtual machine has been written for a particular CPU
architecture, it can execute programs written for the virtual machine.

The Java compiler produces a documented, well-defined set of standard bytecodes,
known as the JavaVM specification. \cite[Chapter 4]{javavm-bytecode}  There are
many different implementations of the JavaVM specification: HotSpot
(Sun/Oracle's de facto implementation) \cite{hotspot}, Apache Harmony
\cite{apache-harmony}, and Red Hat's IcedTea \cite{icedtea}, to name a few.

The developers of Android created a new virtual machine --- Dalvik.  Dalvik
executes bytecodes in a format that is different from JavaVM in order to fulfill
the performance requirements on mobile phones.  \cite{dalvik-bytecode}
\cite{dalvik-vm-arch} The Android~SDK includes a program, dx, that converts
Java bytecodes produced by Oracle's Java compiler into Dalvik bytecodes.
\cite{android-sdk-building} In order to provide compatibility with the Java
libraries, Dalvik includes portions of the Apache~Harmony library.
\cite{apache-harmony} \cite{dalvik-readme}  Apache~Harmony and Dalvik are
released under the Apache License 2.0 \cite{apache-license} which is ``preferred
by many companies because such licenses make it possible to use open-source
software code without having to turn proprietary enhancements back over to the
open source software community.'' \cite{why-apache2-license}

On August 12, 2010, Oracle filed a lawsuit against Google, claiming that Dalvik
infringes upon their intellectual property. \cite[Count VIII]{oracle-lawsuit}

% end facts }}}1

\section{Research Question} % {{{1
\label{sec:question}

Is Google's use of the Dalvik virtual machine in Android ethical?

If Google is unethical, then their partners in the Open Handset Alliance are
unethical.  The Android platform is used on a wide variety of phones currently
on the market distributed by various different companies.  All of these
companies would be using unethically obtained software.  This would be
disastrous for many companies and would harm the public.  Furthermore, the
question also has implications beyond Android.  If Google is unethical in using
Dalvik, other creators of compatible virtual machines could be just as
unethical.  This would include Red Hat and the Apache Software Foundation ---
two high-profile open~source developers.

% end question }}}1

\section{Extant Arguments} % {{{1
\label{sec:args}

\subsection{Oracle's Claim} % {{{2
\label{sub:args_oracle}

Oracle's claim is that ``as a direct and proximate result of Google's direct
and indirect willful copyright infringement, Oracle America has suffered, and
will continue to suffer, monetary loss to its business, reputation, and
goodwill.'' \cite[p.~9 line 11]{oracle-lawsuit}

The first claim being made is that Google is infringing on Oracle's copyright.
The second claim is that by infringing, Google is harming the public by causing
losses to Oracle's employees and investors.  Either of these actions could be
unethical, and the first would certainly be illegal.

% TODO: Discuss specific patents: JIT, Access to Resources, etc.

% sub args_oracle }}}2

\subsection{Groklaw's Response} % {{{2
\label{sub:args_groklaw}

When the lawsuit was announced, the website Groklaw posted an analysis of the
lawsuit.  Groklaw is a website run by Pamela Jones, an open source advocate who
previously worked as a paralegal. \cite{groklaw-pj} Jones responded to Oracle's
lawsuit, saying: \cite{groklaw}

\begin{quotation}
I expect Google would say Dalvik was an alternative to Java, not a version of
it. If indeed none of the Sun employees that ended up at Google worked on this,
and it's built from the ground up without any Sun technology or [Intellectual
Property], on what basis can Oracle prevail? Perhaps Oracle figures no room at
Google is clean enough. And of course clean room means nothing when it comes to
patents.
\end{quotation}

Jones's argument is that if Google has not used any of Oracle's software to
build Dalvik, then there's no violation of intellectual property, and thus no
unethical behavior.

% sub args_groklaw }}}2

\subsection{Copied Code} % {{{2
\label{sub:fosspatents}

In January 2011, Engadget (a popular technology news website), posted an article
indicating that Google may be copying portions of Oracle's code in the Android
source code repository.  \cite{android-copies-java-code}  Florian Mueller, the
author of the blog ``FOSS Patents'', originally discovered the similarities in
the files.  \cite{fosspatents}  Ars Technica ran an article soon after claiming
that SONiVOX, a third-party company, had accidentally committed the offending
changes. \cite{ars-tech-copying} These observers claim that Google is unethical
because Google directly copied source code from Oracle.

% subsection fosspatents }}}2

% end args }}}1

\section{Analysis} % {{{1
\label{sec:analysis}

\subsection{Criteria for Analysis} % {{{2
\label{sub:criteria}

In order to establish whether Google's actions are ethical or unethical, it is
important to provide an objective set of standards that are well-accepted for
the basis of this analysis.  At first glance, using Google's Code of Conduct
\cite{google-conduct} seems like a reasonable choice, and many parts of Google's
Code of Conduct are applicable here.  However, this analysis will use the ACM
Software Engineering Code of Ethics and Professional Practice \cite{secode}, as
it is non-partial and includes more restrictions than Google's Code of Conduct
does.

Google is primarily a software company, consisting of software engineers that
create products, including Dalvik.  The ACM Software Engineering Code of Ethics
and Professional Practice ``prescribes [the Code] as obligations of anyone
claiming to be or aspiring to be a software engineer.'' \cite{secode} By this
measure, Google would be unethical in creating Dalvik if it violated the
Software Engineering Code of Ethics and Professional Practice \cite{secode} or
if there was a higher principle that it conflicts with.

% TODO
Much of the ethics of the situation is concerned with Oracle's intellectual
property.  The scope of the question is much wider, though.  Whether Dalvik is
ethical is not just dependent on whether it just violates principles, but also
whether it follows principles.

% subsection criteria }}}2

\subsection{Duty to the Public} % {{{2
\label{sub:product}

As part of a software engineer's duty to the public, a software engineer should
``approve software only if they have a well-founded belief that it is safe,
meets specifications, passes appropriate tests, and does not diminish quality of
life, diminish privacy or harm the environment.'' \cite[\S~1.03]{secode}  There
have been no major complaints about Android's safety and testing, and the
possibility of its damage is limited because it operates on consumer-level
mobile devices.  The relevant concerns here are the conformance to
specifications, the effect on quality of life, and the effect on privacy.

\subsubsection{Requirements} % {{{3
\label{ssub:requirements}

The specification of a software product includes the requirements (goals and
restrictions) and the details of how to meet those requirements (design
documents and user documentation).  If Dalvik does not meet its requirements,
then it does not follow its specification, and therefore it is unethical.

When the Open Handset Alliance announced Android, they cited three major
design goals for Android.  The main requirements are: \cite{open-handset-alliance-ann}

\begin{itemize}
    \item User Experience
    \item Openness
    \item Portability
\end{itemize}

% subsubsection requirements }}}3

\subsubsection{Why a Virtual Machine?} % {{{3
\label{ssub:why-vm}

One of Android's goals is to provide portability: an application should be able
to run on a variety of devices.  Each phone may have a slightly different
hardware; a program which runs well on one phone may run poorly on another
phone.  A virtual machine would provide a predictable, consistent execution
environment between phones without placing burden on application developers.

A virtual machine also has some side benefits that are useful for phone
development.  Because a virtual machine has more control over the execution
environment, a virtual machine can more aggressively collect unused memory.  The
virtual machine can also track all accesses to resources, so a virtual machine
can enforce that a program only has access to the APIs it requested permission
for.  Dalvik uses these features to make Android secure and memory efficient ---
important qualities for maintaining user privacy and user experience.

% subsubsection why-vm }}}3

\subsubsection{User Experience} % {{{3
\label{ssub:quality}

The Software Engineering Code \cite{secode} encourages software engineers to
``strive for high quality, acceptable cost, and a reasonable schedule'' in a
product.  Dalvik would not have been completed in a reasonable amount of time
without using portions of Apache Harmony, nor would it be as high quality if it
had used Oracle's HotSpot.  HotSpot doesn't fit within the performance
characteristics of lower-end phones. \cite{dalvik-vm-arch} There are other Java
virtual machines that could have been used, but none met the goals of the
Android project.

% subsubsection quality }}}3

\subsubsection{Effect on the Public} % {{{3
\label{ssub:public-effect}

Two of the duties the Software Engineering Code of Ethics identifies are the
users and the public.  Since the primary user of Android is the public, this is
a significant duty for Google.  The requirements (and the product) should
provide utility to the public in order to be ethical.

Mobile phones are a significant part of people's lives and contains personal
information such as contacts and browsing history.  With a proprietary phone
operating system, it is difficult for security experts and privacy enthusiasts
to see how their data is being used.  Providing an open source platform for
mobile phones encourages user privacy by allowing external audits to ensure that
the operating system is not transmitting information without consent.

% subsubsection public-effect }}}3

% subsection product }}}2

\subsection{Licensing} % {{{3
\label{sub:licensing}

One of the requirements of Android is to provide a common platform for a wide
variety of phones \cite{open-handset-alliance-ann}; the only way to ensure a
common platform is to encourage widespread adoption.  Companies prefer the
Apache License 2.0 because of its less restrictive nature than the GPL.
\cite{why-apache2-license}  Thus, to promote adoption, Google released Android
under the Apache License 2.0.

Google's implementation of Dalvik does not use any of Oracle's~HotSpot~VM, but
it uses portions of the Apache~Harmony libraries.  In order for this to be
ethical, the Software Engineering Code dictates that software engineers ought to
``credit fully the work of others and refrain from taking undue credit.''
\cite[\S 7.03]{secode}  Google distributes Dalvik under the same
Apache~License~2.0 and credits Harmony in the Dalvik README.
\cite{dalvik-readme}  The principle of giving credit is upheld.

Section 2.02 of the Software Engineering Code states that software engineers
should ``not knowingly use software that is obtained or retained either
illegally or unethically.'' \cite[\S 2.02]{secode}  Instead of using Oracle's
libraries, Google used the Apache Harmony libraries.  Dalvik uses its own
executable format that is distinct from JavaVM.  Google created Dalvik and then
used Apache~Harmony to supplement its functionality, obeying all the terms of
the Apache~License~2.0.  All software was either created at Google or obtained
legally.

% subsection licensing }}}3

\subsection{The Use of Java} % {{{2
\label{sub:java}

The Android SDK provides a modified Eclipse environment for developing Android
applications using the Java programming language.  Java is a well-developed
language that is taught at many universities, including Cal Poly, so its use
reduces the amount of work for a developer to create an Android application.

\subsubsection{The dx Program} % {{{3
\label{ssub:dex}

dx, a part of the Android SDK, is a separate program that converts Java
bytecodes to Dalvik bytecodes (the Dalvik executable format, dex).  Converters
could be written that convert other programming languages to the Dalvik
executable format; there is no dependency on Java.  Dalvik includes libraries
that are similar to those in the Java standard library, but creating an API
that's similar to another is not an unethical act, as long as the underlying
implementations differ.

% subsubsection dex }}}3

\subsubsection{Damages to Oracle} % {{{3
\label{ssub:oracle-damage}

Oracle's lawsuit would seem to indicate that Google is harming the public
(specifically Oracle) by using unfair business practices to detract from
Oracle's profits.  Oracle publishes a specification for a similar environment,
Java Micro Edition, but there are no well-known phones that implement it.
Before Android's announcement in 2007, the usage of Java was declining, but 2008
showed a sharp increase in interest.  \cite{tiobe}  Android may not be directly
related to this increase, but with an influx of developers, it would follow that
developers will be looking for documentation and resources related to Java.
These developers may use Java for other software projects to minimize language
switching.

The Java compiler is already freely distributed under GNU GPL.  Oracle makes
their money in services relating to Java, not Java itself.  The lack of phone
supporting Java Micro Edition suggests that Oracle is not too heavily invested
in the technology.  Nicholas Artman, a former employee at Apple and Yahoo,
summarized that ``Oracle is, in essence, suing Google for actively preventing
Oracle from hemoraging money on phones.'' \cite{artman}

% subsubsection oracle-damage }}}3

% subsection java }}}2

% section analysis }}}1

\section{Conclusion} % {{{1
\label{sec:conclusion}

The performance, power, and licensing requirements that Google had for Android
would not have been met by an existing virtual machine, so creating Dalvik was
the only ethical choice that Google could make.

% section conclusion }}}1

\appendix

\section{Glossary} % {{{1
\label{sec:glossary}

\begin{description}
    \item[Virtual Machine] A program that runs instructions that are not
    natively understood by a CPU.
    \item[Bytecode] An instruction understood by a virtual machine.
    \item[JavaVM] The set of bytecodes that is documented by ``The Java Virtual
    Machine Specification''. \cite{javavm-bytecode}
    \item[SDK] Software Development Kit.  An SDK is a set of programs and other
    materials that allows programmers to write programs for a particular
    environment.
    \item[Open Source] If a software project released as open source, it means
    that the software's source code can be obtained and reused legally.  There
    are many licenses that are considered open source, each with different
    terms.
    \item[Apache License 2.0] An open source license that allows modification
    and reuse of the source code, even if the user don't redistribute the
    modified source code. \cite{apache-license}
    \item[GNU GPL License] GNU General Public License.  An open source license
    that allows modification and reuse of the source code, as long as users
    distribute the source code of their modifications. \cite{gpl-license}
    \item[Library] A collection of code that is useful in many different
    programs (e.g.\ text handling, graphics, etc.).
\end{description}

% section glossary }}}1

\end{multicols}
\newpage

%cite all the references from the bibtex you haven't explicitly cited
\nocite{*}
\bibliographystyle{IEEEannot}
\bibliography{termpaper}

\end{document}

% vim: ft=tex tw=80 fdm=marker fdc=3 spell

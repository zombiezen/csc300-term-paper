% Coffee in Iceland: The Ethics of Java on Android
% By Ross Light
% CSC 300: Professional Responsibilities
% Dr. Clark Turner

% One Column Format
\documentclass[11pt]{article}

\usepackage{hyperref}
\usepackage{url}

\usepackage[toc]{glossaries}
\usepackage{multicol}
\usepackage{setspace}

\hypersetup{
    bookmarks=true,         % show bookmarks bar?
    colorlinks=true,        % false: boxed links; true: colored links
    linkcolor=black,        % color of internal links
    citecolor=black,        % color of links to bibliography
    filecolor=black,        % color of file links
    urlcolor=black          % color of external links
}

%%% PAGE DIMENSIONS
\usepackage{geometry} % to change the page dimensions
\geometry{letterpaper}

\loadglsentries{glossary}
\renewcommand{\glsdisplayfirst}[4]{\textbf{#1#4}}
\makeglossaries

\begin{document}

\title{\vfill Coffee in Iceland: The Ethics of Java on Android} %\vfill gives us the black space at the top of the page
\author{
By Ross Light \vspace{10pt} \\
CSC 300: Professional Responsibilities  \vspace{10pt} \\
Dr. Clark Turner \vspace{10pt} \\
}
\date{\today} %Or use \Today for today's Date

\maketitle

\vfill  %in combination with \newpage this forces the abstract to the bottom of the page
\begin{abstract} % {{{1

Google released Android on November 5, 2007 \cite{open-handset-alliance-ann} as
a platform for mobile phones. Programmers can write applications for Android in
Java.  These programs are run with Dalvik --- a virtual machine that Google
created.  In 2010, Oracle~America~Inc.\ filed a lawsuit against Google
\cite{oracle-lawsuit}, claiming that Dalvik infringed on Oracle's intellectual
property.  This raises the question: is Google's use of the Dalvik virtual
machine in Android ethical?  Dalvik is ethical because it uses industry
standards, follows licensing restrictions, and contributes to the public good,
in accordance with the ACM~Software~Engineering Code~of~Ethics and
Professional~Practice \cite{secode}.

(It should be noted that the author of this paper is employed by Google at time
of writing.)

\end{abstract} % }}}1

\pagenumbering{roman}
\thispagestyle{empty} %remove page number from title page, but still keep it as pg #1
\newpage

%Create a table of contents with all headings of level 3 and above.
\thispagestyle{empty}  %Remove page number from TOC
\tableofcontents

\newpage

%start 2 column format
\begin{multicols}{2}
%Start numbering first page of content as page 1
\pagenumbering{arabic}
\setcounter{page}{1}

\section{Introduction} % {{{1
\label{sec:intro}

Mobile phones are becoming an increasingly important aspect of our lives.  When
cell phones were first introduced, they could only make calls.  Now phones can
check email, take pictures, give you directions, and even play videos.  This
complexity came incrementally, but the turning point was with the introduction
of programs written by third-party developers.

User programs are certainly not a new concept.  Desktop operating systems like
Mac OS X and Windows have been running user programs since their inception.
However, cell phones traditionally only ran software written by the phone
manufacturer.  There was no need for external programs.  A phone was only
designed to make calls; mobile development was a niche market.  Every phone had
a slightly different programming environment, and there wasn't an easy way for
users to install new applications.

The new trend is toward complex operating systems used on a range of phone
models.  Apple's iOS platform is the more visible player in the market, but in
2011, Google's Android platform overtook both iOS and Blackberry with 29\% of
the market share \cite{android-market-share}.  While iOS is limited to a select
number of devices created only by Apple, Android is installed on phones from a
variety of manufacturers and carriers.  Google manages an online marketplace for
users to install applications written by third-party developers.

In order for a developer to write a program for an operating system, a developer
must obtain a \gls{sdk} from the company that made the operating system.  A
\gls{sdk} includes tools for the programmer to create his or her application and
documentation to help the programmer learn how to make programs for that
specific environment.  There is usually a programming language that the
\gls{sdk} encourages (or mandates) programmers to use.  For example, iOS uses
Objective-C and Android uses Java.  These tools are essential.  Without a
\gls{sdk}, it is impossible for a third-party developer to create innovative
software.

% section intro }}}1

\section{Facts} % {{{1
\label{sec:facts}

In late 2007, Google (along with a handful of other companies) announced the
Open~Handset~Alliance \cite{open-handset-alliance-ann} along with Android, the
operating system they wished to promote.  The Android operating system is built
entirely from \gls{opensource} projects.  Anybody can legally obtain a copy of
the original source code from the Android project.  Most of the projects Android
uses are released under the \gls{apl}, with the exception of the Linux kernel
(which is released under the \gls{gpl}).  Google provides a \gls{sdk} that
allows developers to write applications for Android in the Java programming
language.

Java is a programming language created by James Gosling that was originally
maintained by Sun~Microsystems.  In 2006, Sun announced Java's release under the
\gls{opensource} \gls{gpl}. \cite{sun-open-sources-java} On August 20, 2009, the
U.S.~Justice Department approved Oracle's deal to acquire Sun Microsystems and
its intellectual property, including Java. \cite{oracle-buys-sun}

Many programming languages are converted from text directly into instructions
that the CPU understands.  Java does not get converted directly to CPU
instructions --- in order to run Java code, one must use a \gls{vm}.  A \gls{vm}
is a program written for a particular CPU that runs \gls{bytecode}[
instructions] that the CPU doesn't natively understand.  A \gls{vm} guarantees
that the same program will run on any CPU without modification.  Once a \gls{vm}
has been written for a particular CPU architecture, the CPU can execute programs
written for the \gls{vm}.

The Java compiler produces a documented, well-defined set of standard
\glspl{bytecode}, known as the \gls{javavm}[ specification]. \cite[Chapter
4]{javavm-bytecode}  There are many different implementations of the
\gls{javavm} specification: HotSpot (Sun/Oracle's de facto implementation)
\cite{hotspot}, Apache~Harmony \cite{apache-harmony}, and Red~Hat's IcedTea
\cite{icedtea}, to name a few.

The developers of Android created a new \gls{vm} --- Dalvik.  Dalvik executes
\glspl{bytecode} in a format that is different from \gls{javavm} in order to
fulfill the performance requirements on mobile phones.  \cite{dalvik-bytecode}
\cite{dalvik-vm-arch} The Android \gls{sdk} includes a program, dx, that
converts Java \glspl{bytecode} produced by Oracle's Java compiler into Dalvik
\glspl{bytecode}.  \cite{android-sdk-building} In order to provide compatibility
with the Java libraries, Dalvik includes portions of the Apache~Harmony library.
\cite{apache-harmony} \cite{dalvik-readme}  Apache~Harmony and Dalvik are
released under the \gls{apl} \cite{apache-license} which is ``preferred by many
companies because such licenses make it possible to use \gls{opensource}
software code without having to turn proprietary enhancements back over to the
\gls{opensource} software community'' \cite{why-apache2-license}, according to
Ryan Paul, a writer for the technology news website Ars Technica.

On August 12, 2010, Oracle filed a lawsuit against Google, claiming that Dalvik
infringed upon their intellectual property. \cite[Count VIII]{oracle-lawsuit}

% end facts }}}1

\section{Research Question} % {{{1
\label{sec:question}

Is Google's use of the Dalvik \gls{vm} in Android ethical?

If Google is unethical, then their partners in the Open Handset Alliance are
unethical.  The Android platform is used on a wide variety of phones currently
on the market distributed by various companies.  This includes Motorola, LG,
Samsung, and HTC, among many others; all these companies would be using
unethically obtained software.  This would be disastrous for many companies and
would harm the public.  This question also has implications beyond Android.  If
Google is unethical in using Dalvik, other creators of \glspl{vm} could be just
as unethical.  This would include Red~Hat and the Apache~Software~Foundation ---
two high-profile \gls{opensource} organizations.

% end question }}}1

\section{Extant Arguments} % {{{1
\label{sec:args}

\subsection{Oracle's Claim} % {{{2
\label{sub:args_oracle}

Oracle's claim is that ``as a direct and proximate result of Google's direct
and indirect willful copyright infringement, Oracle America has suffered, and
will continue to suffer, monetary loss to its business, reputation, and
goodwill.'' \cite[p.~9 line 11]{oracle-lawsuit}  Oracle also claims Google
infringed on seven of their patents pertaining to the Java programming language.

The first claim being made is that Google is infringing on Oracle's copyright.
This is illegal under United States copyright law, and would therefore be
unethical.  The second claim is that by infringing, Google is harming the public
by causing losses to Oracle's employees and investors.  Either of these actions
could be unethical.

Oracle also presented source code files from Android as proof that Google was
aware of the infringement.  The lawsuit contains a side-by-side comparison of
Oracle's source code to Google's source code. \cite{exhibitj} If any portion of
Oracle's software is copied, it would be unauthorized duplication, which is
illegal and unethical.

% sub args_oracle }}}2

\subsection{Groklaw's Response} % {{{2
\label{sub:args_groklaw}

When the lawsuit was announced, Groklaw posted an analysis of the lawsuit.
Groklaw is a website run by Pamela Jones, an \gls{opensource} advocate who
previously worked as a paralegal. \cite{groklaw-pj} Jones responded to Oracle's
lawsuit, saying: \cite{groklaw}

\begin{quotation}
I expect Google would say Dalvik was an alternative to Java, not a version of
it. If indeed none of the Sun employees that ended up at Google worked on this,
and it's built from the ground up without any Sun technology or [Intellectual
Property], on what basis can Oracle prevail? Perhaps Oracle figures no room at
Google is clean enough. And of course clean room means nothing when it comes to
patents.
\end{quotation}

Jones's argument is that if Google has not used any of Oracle's software to
build Dalvik, then there's no violation of intellectual property, and thus no
unethical behavior (other than possible patent violations).

% sub args_groklaw }}}2

\subsection{The Copied Code Debate} % {{{2
\label{sub:fosspatents}

\subsubsection{Florian Mueller's Discovery} % {{{3
\label{ssub:fosspatents}

In January 2011, Engadget (a popular technology news website), posted an article
indicating that Google may be copying portions of Oracle's code in the Android
source code repository.  \cite{android-copies-java-code}  Florian Mueller, the
author of the blog ``FOSS Patents'', originally discovered the similarities in
the files.  \cite{fosspatents} These observers claim that Google is unethical
because Google directly copied source code from Oracle.

% subsubsection fosspatents }}}3

\subsubsection{Ars Technica's Defense} % {{{3
\label{ssub:arstechnica}

Ars Technica (another technology news website) published an article soon after
Engadget's article, claiming that SONiVOX, another member of the
Open~Handset~Alliance, was responsible for adding the copied files, not Google.
\cite{ars-tech-copying} The article made the case that because Google was not
aware of the code's presence and they swiftly removed the offending code, they
were still acting ethically.

% subsubsection arstechnica }}}3

\subsubsection{ZDNet's Defense} % {{{3
\label{ssub:zdnet}

Another argument (originally made by Ed Burnette and published on the technology
news website ZDNet) is that the files are not shipped with Dalvik --- they are
only used as part of Dalvik's unit tests. \cite{zdnet-copying}  Because these
files are not part of Dalvik itself, Google is not using illegally obtained code
to create Dalvik.

% subsubsection zdnet }}}3

% subsection fosspatents }}}2

\subsection{Summary of Arguments} % {{{2
\label{sub:args-summary}

The main criticism of Dalvik is its use of Java.  Because Java is Oracle's
product, it infringes on their intellectual property and should not be used.
Critics claim that Dalvik copies code from Oracle and is using it unlawfully and
unethically.  Therefore, Google is harming Oracle and its shareholders by
engaging in unfair business practices, effectively using Oracle's products
against Oracle.

Supporters of Dalvik claim that Dalvik is an alternative and fulfills the same
purpose as Oracle's HotSpot \gls{vm}, but does not use any of the HotSpot's
software.  SONiVOX's code duplication was unethical, but Google was not aware of
its use and removed it immediately upon discovery.  The files used were only
unit tests and not shipped as part of Android.

% subsection args-summary }}}2

% end args }}}1

\section{Analysis} % {{{1
\label{sec:analysis}

\subsection{Criteria for Analysis} % {{{2
\label{sub:criteria}

Asking whether Google is ethical is not the same as asking whether Google
infringed on Oracle's intellectual property, although it is an important issue.
If Google did infringe, then they would be breaking the law, which is unethical.
However, there may be other conditions that must be met in order for Google's
use of Dalvik to be ethical.

To determine this criteria, it is important to provide an objective set of
standards that are well-accepted for the basis of this analysis.  At first
glance, using Google's Code~of~Conduct \cite{google-conduct} seems like a
reasonable choice, and many parts of Google's~Code~of~Conduct are applicable to
this issue.  However, this analysis will use the ACM Software~Engineering
Code~of~Ethics and Professional~Practice \cite{secode}.  The Association for
Computing Machinery (or ACM) is ``the world's largest educational and scientific
computing society'' \cite{acm}.  Their Code~of~Ethics is not affiliated with a
single company, is well accepted, and includes more restrictions than Google's
Code~of~Conduct does.

Google is primarily a software company consisting of software engineers.  The
ACM Software~Engineering Code~of~Ethics and Professional~Practice ``prescribes
[the Code] as obligations of anyone claiming to be or aspiring to be a software
engineer.'' \cite{secode} By this measure, Google would be unethical in using
Dalvik if it violates the ACM Software Engineering Code of Ethics and
Professional Practice or if there is a higher principle that it conflicts with.

% subsection criteria }}}2

\subsection{The Use of Java} % {{{2
\label{sub:java}

The Android \gls{sdk} provides a environment for developing Android applications
using the Java programming language.  In light of the lawsuit, using another
company's programming language seems unethical because it violates section 2.02
of the Software Engineering Code of Ethics (``Not knowingly use software that is
obtained or retained either illegally or unethically'' \cite[\S 2.02]{secode}).
Furthermore, using Java seems like a particularly unethical move when Google
could have easily avoided the issue by picking another language for the Android
\gls{sdk}.  The licensing issues regarding Java are addressed later in
section~\ref{sub:licensing} ``Licensing'', but first, why did Google pick Java?

Java refers to a few different concepts, so it is important to remember that
there are two components that Java encompasses: the compiler and the \gls{vm}.
Oracle created both a compiler and a \gls{vm}.  The compiler takes the source
code the programmer writes and converts it into \glspl{bytecode}, which is then
run by the \gls{vm}.

% TODO: fix TIOBE cite
The Software Engineering Code of Ethics presents an obligation to ``work to
follow professional standards, when available, that are most appropriate for the
task at hand, departing from these only when ethically or technically
justified.'' \cite[\S 3.06]{secode}  Java is a mature programming language and
was ranked the most popular programming language in 2006 \cite[Long term
trends]{tiobe}, the year before Android was released.  Many introductory
university computer science courses (including Cal Poly's \cite{csc102}) teach
the Java programming language.  The Java programming language is a standard
because of how widely it is used.  Using Java reduces the amount of work for a
programmer --- an Android programmer does not have to learn a new language.  As
long as there isn't an ethical or technical conflict, using Java (the
professional standard) would be the appropriate action according to the
Software~Engineering Code~of~Ethics.

\subsubsection{The dx Program} % {{{3
\label{ssub:dex}

In an ordinary Java project, a developer uses a compiler to convert his or her
Java source code files into \gls{javavm} \glspl{bytecode}.  Those
\glspl{bytecode} can be run directly by a Java \gls{vm}.  An Android application
requires an extra step: running the dx program.  dx, a part of the Android
\gls{sdk}, is a program that converts Java \glspl{bytecode} to Dalvik
\glspl{bytecode} (the Dalvik executable format, dex).  Dalvik doesn't use
\gls{javavm} \glspl{bytecode} at all; the architecture is fundamentally
different.

Because Dalvik uses dex, Java \glspl{bytecode} are an intermediary, not the
final product.  Programs could be written that convert other programming
languages to the Dalvik executable format (and projects already exist to do this
\cite{ruboto}).  This means that Dalvik exists completely independently of Java.
Dalvik is a generic \gls{vm}.

Dalvik, then, must be categorized differently than how Oracle is portraying it.
Dalvik is not an implementation of Java, it is an alternative, just as Pamela
Jones argued. \cite{groklaw}  Oracle's HotSpot and Google's Dalvik solve the
same problem, but they solve it in different ways.  Copying someone else's
implementation is certainly intellectual property infringement, but making a
different program that accomplishes the same task is ethical.  For instance, no
one is arguing that Google Docs is violating Oracle's OpenOffice intellectual
property, even though they share many of the same features.  A product that
solves a problem differently is a different product.  Thus, Dalvik does not
infringe upon Oracle's patents.  Dalvik can have a purpose that is similar to
Oracle's \gls{vm} and still be ethical.

% subsubsection dex }}}3

\subsubsection{Damages to Oracle} % {{{3
\label{ssub:oracle-damage}

Oracle's lawsuit would seem to indicate that Google is harming the public
(specifically Oracle) by using unfair business practices to detract from
Oracle's profits.  Oracle publishes a specification for a similar environment,
Java Micro Edition.  However, there are no well-known phones that implement Java
Micro Edition.  Before Android's announcement in 2007, the usage of Java was
declining, but 2008 showed a sharp increase in interest.  \cite{tiobe}  Android
may not be directly related to this increase, but with an influx of developers,
it would follow that developers will be looking for documentation and resources
related to Java.  These developers may continue to use Java for other software
projects to minimize confusion.  At the very least, there is no significant
decrease in the use of Java.  As of May 2011, Java is still the most widely used
programming language.  \cite{tiobe}

The Java compiler is already freely distributed under the \gls{gpl}.  Oracle
makes their money in services relating to Java, not Java itself.  The lack of
phones supporting Java Micro Edition suggests that Oracle is not too heavily
invested in the technology.  Nicholas Artman, a former employee at Apple and
Yahoo, summarized that ``Oracle is, in essence, suing Google for actively
preventing Oracle from hemoraging money on phones.'' \cite{artman}

% subsubsection oracle-damage }}}3

\subsubsection{Summary} % {{{3
\label{ssub:java-summary}

Java is now a well-established programming language in the software engineering
industry.  The Software Engineering Code of Ethics encourages the use of
standards whenever possible, so using Java is the proper choice unless there is
a conflicting ethical or technical reason, according to Section 3.06 of the
Software Engineering Code of Ethics. \cite[\S3.06]{secode}  By separating Dalvik
from Oracle's Java implementation, the Android \gls{sdk} can use the Java
programming language without unethically using Oracle's software.  Including the
Java programming language promotes Oracle's products.  Oracle is not suffering
any loss of business due to Google's use of Dalvik.  The choice to use Java is
ethical.

% subsubsection java-summary }}}3

% subsection java }}}2

\subsection{Licensing} % {{{2
\label{sub:licensing}

Section 2.02 of the Software Engineering Code states that software engineers
should ``not knowingly use software that is obtained or retained either
illegally or unethically.'' \cite[\S 2.02]{secode}  Oracle claims that Google is
doing exactly that: using software that infringes on their intellectual
property.  To evaluate this claim, we need to examine the licensing terms for
both Oracle's Java project and Google's Dalvik project.

Oracle releases their implementation of the Java compiler and \gls{vm} under the
\gls{gpl}, which means that it can be redistributed or modified as long as the
source code is distributed as well.  This is a common \gls{opensource} license,
but it is referred to as a viral license, because any modifications to a project
released under the \gls{gpl} have to be made open as well.
\cite[\S5]{gpl-license} Companies want to be able to make proprietary
modifications to their implementations, but the \gls{gpl} does not allow this.
One of the requirements of Android is to provide a common platform for a wide
variety of phones \cite{open-handset-alliance-ann}; the only way to ensure a
common platform is to encourage widespread adoption.  The \gls{apl}, another
common \gls{opensource} license, allows modification or redistribution of
software (even without releasing the source code), as long as the original
copyright notice remains intact. \cite{apache-license} Companies prefer the
\gls{apl} because they want to be able to make proprietary modifications.
\cite{why-apache2-license} Thus, to promote adoption, Google needed to release
Android (and Dalvik) under the \gls{apl} (or another similar license).  However,
code released under the \gls{gpl} cannot legally be released under the
\gls{apl}.

Google does not include any of Oracle's Java development tools in the Android
\gls{sdk}; an Android developer must obtain the Java Development Kit directly
from Oracle.  This means that Google is not redistributing or modifying the Java
compiler.

A major part of a Java \gls{vm} is the runtime \gls{library}, which provides
code that is common to many software projects.  Oracle does include an extensive
standard \gls{library} in their Java Development Kit, but the Android \gls{sdk}
specifically disables its use when it compiles an application.  Instead, Google
uses the Apache~Harmony \gls{library}, an implementation of a subset of Oracle's
standard \gls{library}, which is released under the \gls{apl}.  In order for
this to be ethical, the Software Engineering Code of Ethics dictates that
software engineers ought to ``credit fully the work of others and refrain from
taking undue credit.'' \cite[\S 7.03]{secode}  Google distributes Dalvik under
the same \gls{apl} and credits Harmony in the Dalvik README.
\cite{dalvik-readme}  The principle of giving credit is upheld.

\subsubsection{The Unit Test Fiasco} % {{{3
\label{ssub:unittest-fiasco}

The Oracle lawsuit includes examples of code in Dalvik that matches code inside
of the HotSpot \gls{vm}. \cite{exhibitj} As noted in section
\ref{ssub:fosspatents}, ``Florian Mueller's Discovery'', Florian Mueller made
the claim that additional files in the Dalvik repository were copied directly
from Oracle's HotSpot \gls{vm}, beyond the files that Oracle mentioned.
\cite{fosspatents}  If Google knowingly copied code illegally, then Dalvik is
unethical.

The duplicated files are not a part of Dalvik, but are in a separate support
directory.  Dalvik does not use them directly.  The developers working on
Android used the files to perform unit tests.  When Dalvik is built and deployed
on a phone, it does not include these files. \cite{zdnet-copying} Therefore,
Dalvik itself does not contain any software that is illegally obtained.  Google
did not know that the code had been copied illegally, and once they discovered
it, they deleted the offending files from the repository.  Although they used
software that was retained illegally, they did not do so knowingly.  Therefore,
they still acted in accordance with Section 2.02 of the Software Engineering
Code of Ethics.

% subsubsection unittest-fiasco }}}3

\subsubsection{Summary} % {{{3
\label{ssub:licensing-summary}

Google does not redistribute or modify any part of Oracle's
Java~Development~Kit.  Instead, they inform developers to obtain the
Java~Development~Kit from Oracle under the terms of the \gls{gpl}.  Oracle's
Java implementation is only used in the Android \gls{sdk}, but not in the
Android operating system, which is released under the \gls{apl}.

Google used the Apache Harmony \gls{library} for Dalvik instead of using
Oracle's \gls{library}.  Google created Dalvik and then used Apache~Harmony to
supplement its functionality, obeying all the terms of the \gls{apl}.  The
Apache~Software~Foundation's copyright notice remained intact, thus giving
proper credit to the Apache~Software~Foundation. All software was either created
at Google or obtained legally.  Therefore, Google adhered to Section 2.02 of the
Software Engineering Code of Ethics.

% subsubsection licensing-summary }}}3

% subsection licensing }}}2

\subsection{Duty to the Public} % {{{2
\label{sub:public}

As part of a software engineer's duty to the public, a software engineer should
``approve software only if they have a well-founded belief that it is safe,
meets specifications, passes appropriate tests, and does not diminish quality of
life, diminish privacy or harm the environment.'' \cite[\S~1.03]{secode}  The
possibility of its damage is limited because Android operates on consumer-level
mobile devices.  No claim has been made that Android is not well-tested; Android
is derived from the Linux kernel, a well-tested operating system.  Therefore,
the only relevant concerns here are the conformance to specifications, the
effect on quality of life, and the effect on privacy.  Dalvik must meet all of
these conditions in order to be ethical.

\subsubsection{Requirements} % {{{3
\label{ssub:requirements}

The specification of a software product includes the requirements (goals and
restrictions) and the details of how to meet those requirements (design
documents and user documentation).  If Dalvik does not meet its requirements,
then it does not follow its specification, and therefore it is unethical.

When the Open Handset Alliance announced Android, they cited three major
design goals for Android.  The main requirements are: \cite{open-handset-alliance-ann}

\begin{itemize}
    \item User Experience
    \item Openness
    \item Portability
\end{itemize}

Promoting a good user experience by definition is improving quality of life for
the user, so that is an ethical goal.  An open operating system is (arguably)
neutral from the user's point of view, but it allows companies to share code:
Motorola can make bug fixes that assist Samsung, and vice versa, which
contributes to the user experience (i.e. less unexpected behavior).  Portability
means that the same software, which is well-tested and mature, can be used on
many phones and still be useful.  Software that is portable can improve a
greater number of users on a greater number of devices. These requirements are
ethical, but are these requirements met?

% subsubsection requirements }}}3

\subsubsection{Why a Virtual Machine?} % {{{3
\label{ssub:why-vm}

In considering these requirements, none of these seems to mandate the use of a
\gls{vm}.  Indeed, software written for Apple's competing iOS compiles directly
to machine code, runs on devices with different ARM processors, and provides a
good user experience.  The open licensing requirement could be fulfilled with
any newly written program.  Why was Dalvik chosen as the solution for the
requirements?

One of Android's goals is to provide portability: an application should be able
to run on a variety of devices.  Each phone may have slightly different
hardware; a program which runs well on one phone may run poorly on another
phone.  A \gls{vm} would provide a predictable, consistent execution environment
between phones without placing burden on application developers.

A \gls{vm} also has some side benefits that are useful for mobile development.
Because a \gls{vm} has more control over the execution environment, a \gls{vm}
can more aggressively collect unused memory.  The \gls{vm} can also track all
requests for resources, so a \gls{vm} can enforce that a program only has access
to the resources it has permission for (this is discussed in more detail in
section \ref{ssub:privacy}, ``Privacy and Security'').  Dalvik uses these
features to make Android secure and memory efficient --- important qualities for
maintaining user privacy and user experience.

% subsubsection why-vm }}}3

\subsubsection{Quality of Life} % {{{3
\label{ssub:quality}

Section 1.03 of the Software Engineering Code of Ethics states that software
should not ``diminish the quality of life'' \cite[\S1.03]{secode}.  This idea of
not diminishing quality of life relates to the ethical theory of utilitarianism:
that which maximizes utility (or benefit) over a group of people is what is
good.  It provides a (more or less) objective basis for ethics, and it is a
higher principle that also applies outside of software engineering.  To be
consistent with utilitarianism, Android must provide a net positive (or neutral)
effect on the total utility.  Taking away utility would be diminishing quality
of life.

The first goal of the Android platform is to provide a good user experience.
This promotes utility by making the user's life better by making the phone easy
to use.  Because Android is portable and runs on many phones, users don't have
to learn a new interface every time they get a new phone (which is a rather
frequent occurrence in the United States).  Although the primary user is the
general public, a large part of Android's audience are application developers.
An application can be written once and deployed on many different phones with
radically different hardware specifications, thus reducing development time.
When the first Android tablets were introduced, most applications ran correctly
on the first day because the \gls{vm} could handle the better processor and
would abstract the hardware.  The end-users benefits from this abstraction as
well.  Applications behave nicely on their phone: resources are managed,
programs are secure, and applications are guaranteed to run.

% subsubsection quality }}}3

\subsubsection{Privacy and Security} % {{{3
\label{ssub:privacy}

The Software Engineering Code of Ethics dictates that software should not
adversely affect users' privacy.  Dalvik does not directly work with private
data, but it runs other programs that do.  In this case, Dalvik should promote
good practices that aide privacy.  This is Dalvik's security layer.

Mobile phones store personal information such as contacts and browsing history.
With a proprietary phone operating system, it is difficult for security experts
and privacy enthusiasts to see how their data is being used.  Providing an
\gls{opensource} platform for mobile phones encourages user privacy by allowing
external audits to ensure that the operating system is not transmitting
information without consent.

Whenever a user installs a new application from the Android Market, he or she is
clearly presented with the list of permissions that the application is
requesting.  This is part of Dalvik's runtime environment: applications must
declare what actions they want to use when they are created.  If Dalvik detects
that an application is trying to access a resource it is not authorized to use,
Dalvik terminates the application.  Dalvik controls access to private
information.

This would be difficult (although not impossible) to do without a \gls{vm}
Natively compiled code uses the CPU directly, so there would be more burden on
the underlying operating system to implement the security features, which are
better defined at an application level, instead of an operating system level.
The Android Developer Documentation gives the example of a picture attached to
an email. \cite[URI Permissions]{android-dev-security}  A picture viewing
program can't ordinarily access data from the email client, but if the user
wants to open an attachment, the email client can temporarily grant access to
the corresponding image, and nothing more.  By controlling the code executing in
user space, Dalvik can enforce much more fine-grained control over security,
thus protecting its user's privacy.

% subsubsection privacy }}}3

\subsubsection{Summary} % {{{3
\label{ssub:public-summary}

Section 1.03 of the Software Engineering Code of Ethics mandates that software
should fulfill its specification, provide utility, and protect privacy.  The
relevant portion of Android's specification is its requirements.  Android's
requirements are designed to help the public and using Dalvik promotes all of
the Android's requirements.  Dalvik provides utility by keeping Android phones
predictable and portable, even when their hardware is completely different.
Dalvik increases security, which keeps users in control of what data each
program is allowed to access.  Dalvik fulfills Section 1.03 of the Software
Engineering Code of Ethics.

% subsubsection public-summary }}}3

% subsection public }}}2

% section analysis }}}1

\section{Conclusion} % {{{1
\label{sec:conclusion}

In order to best meet project requirements, Google needed to use the Java
programming language and a \gls{vm} in Android.  Google fulfilled their duty to
the public and the Software Engineering Code of Ethics by creating a new
\gls{vm}, Dalvik.  Because Dalvik uses a different architecture and doesn't use
code from Oracle's Java implementation, it does not infringe upon Oracle's
intellectual property and remains ethical.  Dalvik meets the requirements of the
Android project by promoting user experience, portability, security, and
privacy.  These requirements could not be met by existing software, so creating
Dalvik was the logical choice.  Google's use of Dalvik is ethical.

% section conclusion }}}1

\appendix

\printglossaries

\end{multicols}
\newpage

%cite all the references from the bibtex you haven't explicitly cited

\phantomsection
\addcontentsline{toc}{section}{References}
\nocite{*}
\bibliographystyle{IEEEannot}
\bibliography{termpaper}

\end{document}

% vim: ft=tex tw=80 fdm=marker fdc=4 spell
